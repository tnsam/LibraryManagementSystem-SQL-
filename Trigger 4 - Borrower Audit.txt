DROP TRIGGER TRG_UPDATE_TRANSSTATUS_AUDIT;

CREATE OR REPLACE TRIGGER TRG_UPDATE_TRANSSTATUS_AUDIT
AFTER UPDATE ON BORROWER
FOR EACH ROW

BEGIN
	INSERT INTO BORROWER_UPDATE_AUDIT VALUES 
	 (:NEW.borrowerID, :NEW.borrowerName, :OLD.noOfBooksOnHand, :NEW.noOfBooksOnHand, 
	  :OLD.noOfBookLost, :NEW.noOfBookLost, :OLD.noOfLateReturn, :NEW.noOfLateReturn, 
	  USER, TRUNC(SYSDATE));
END;
/